{% extends 'base.html' %}

{% block header %}
  <h1>Add Plant</h1>
{% endblock %}

{% block content %}
  <form action="{{ url_for('plant.add') }}" method="post">
    <label for="plant_name">Plant Name:</label>
    <input type="text" id="plant_name" name="plant_name">
    <button type="submit">Search</button>
  </form>

  <h2>Search Results:</h2>
  <ul>
    {% for plant in plants %}
      <li><a href="{{ url_for('plant.select', plant_id=plant['plant_id']) }}">{{ plant['common_name'] }}</a></li>
    {% endfor %}
  </ul>

  <form action="{{ url_for('plant.save') }}" method="post">
    <label for="selected_plant">Selected Plant:</label>
    <input type="text" id="selected_plant" name="selected_plant" value="{{ selected_plant['common_name'] if selected_plant else '' }}" readonly>
    
    <label for="size">Size (cm):</label>
    <input type="number" id="size" name="size" step="0.01" required>

    <label for="sun_exposure">Sun Exposure:</label>
    <select id="sun_exposure" name="sun_exposure" required>
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>

    <label for="last_watered">Last Watered:</label>
    <input type="date" id="last_watered" name="last_watered" required>

    <input type="hidden" id="selected_plant_id" name="selected_plant_id" value="{{ selected_plant['plant_id'] if selected_plant else '' }}">
    <button type="submit">Save</button>
  </form>
{% endblock %}
